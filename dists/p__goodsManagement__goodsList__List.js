(self["webpackChunkant_design_pro"]=self["webpackChunkant_design_pro"]||[]).push([[917],{77011:function(e){e.exports={buttonWrap:"buttonWrap___1TlPJ"}},45254:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return P}});r(43623);var n=r(28930),a=(r(13753),r(48429)),u=(r(5317),r(87555)),o=(r(14643),r(92909)),i=r(68699),s=r(44742),c=(r(68137),r(50532)),d=r(94043),p=r.n(d),l=r(67294),f=r(88161),m=r(8212),g=r(1870),h=r(73171),w=r(8128),y=r(83647),k=r(2138);function x(e){return _.apply(this,arguments)}function _(){return _=(0,i.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,k.ZP)("goods",{method:"get",params:t}));case 1:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function Z(e){return b.apply(this,arguments)}function b(){return b=(0,i.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,k.ZP)("goods/".concat(t.goods_id),{method:"delete"}));case 1:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function v(e){return E.apply(this,arguments)}function E(){return E=(0,i.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,k.ZP)("goods/".concat(t.id),{method:"get"}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}var S=r(77011),z=r.n(S),C=c.Z.Search,I=function(){var e=(0,l.useState)(""),t=(0,s.Z)(e,2),r=t[0],c=t[1],d=(0,l.useRef)(),k=function(e){c(e),d.current.reload()},_=function(){var e=(0,i.Z)(p().mark((function e(t){var r,n;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z(t);case 2:if(r=e.sent,n=r.meta,200===n.status){e.next=6;break}return e.abrupt("return",o.default.error(n.msg));case 6:return o.default.success(n.msg),d.current.reload(),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(p().mark((function e(t){var r,n,a,u,i;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v({id:t});case 2:if(r=e.sent,n=r.data,a=r.meta,200===a.status){e.next=7;break}return e.abrupt("return",o.default.error(a.msg));case 7:return u=n.goods_cat.split(","),i=u.map(Number),n.goods_cat=i,w.m8.push("/goodsManagement/goodsList/addGoods",{GoodsData:n}),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=l.createElement(u.Z,null,l.createElement(C,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",onSearch:function(e){return k(e)},size:"large",allowClear:!0})),S=[{title:"",dataIndex:"index",width:50},{title:"\u5546\u54c1\u540d\u79f0",dataIndex:"goods_name",key:"goods_name"},{title:"\u5546\u54c1\u4ef7\u683c(\u5143)",dataIndex:"goods_price",key:"goods_price",width:100},{title:"\u5546\u54c1\u91cd\u91cf",dataIndex:"goods_weight",key:"goods_weight",width:100},{title:"\u5546\u54c1\u521b\u5efa\u65f6\u95f4",dataIndex:"add_time",key:"add_time",width:170,render:function(e){return(0,y.D3)(e)}},{title:"\u64cd\u4f5c",width:140,dataIndex:"goods_id",key:"goods_id",render:function(e,t){return l.createElement("div",{className:z().buttonWrap},l.createElement(a.Z,{type:"primary",onClick:function(){return b(e)}},l.createElement(m.Z,{style:{fontSize:"13px"}})),l.createElement(n.Z,{placement:"topRight",title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u7528\u6237\u5417\uff1f",icon:l.createElement(g.Z,{style:{color:"red"}}),onConfirm:function(){return _(t)}},l.createElement(a.Z,{type:"primary",danger:!0},l.createElement(h.Z,{style:{fontSize:"13px"}}))))}}];return l.createElement(f.ZP,{rowKey:"key",actionRef:d,columns:S,bordered:!0,search:!1,options:{setting:!1},headerTitle:E,toolBarRender:function(){return[l.createElement(a.Z,{key:"3",type:"primary",onClick:function(){return w.m8.push("/goodsManagement/goodsList/addGoods")}},"\u6dfb\u52a0\u5546\u54c1")]},pagination:{defaultPageSize:10,pageSizeOptions:["5","10","15","20"],showQuickJumper:!0},request:function(){var e=(0,i.Z)(p().mark((function e(t){var n,a,u,o,i;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={query:r,pagenum:t.current,pagesize:t.pageSize},e.next=3,x(n);case 3:if(a=e.sent,u=a.data,o=a.meta,200===o.status){e.next=8;break}return e.abrupt("return");case 8:return u.goods.map((function(e,t){var r=e;return r.key=e.goods_id,r.index=t+1,r})),i={data:u.goods,total:u.total,success:!0,pageSize:t.pageSize,current:t.current},e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})},P=I}}]);