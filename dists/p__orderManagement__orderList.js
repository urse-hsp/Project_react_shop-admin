(self["webpackChunkant_design_pro"]=self["webpackChunkant_design_pro"]||[]).push([[594],{68294:function(e){e.exports={buttonWrap:"buttonWrap___1eJDO"}},57601:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});r(13753);var n=r(48429),a=(r(14943),r(74356)),u=(r(5317),r(87555)),i=(r(14643),r(92909)),o=r(68699),l=r(44742),c=(r(68137),r(50532)),s=r(94043),p=r.n(s),d=r(67294),m=r(49473),f=r(88161),v=r(8212),y=r(27557),Z=r(83647),_=r(96486),b=r.n(_),h=r(2138);function g(e){return E.apply(this,arguments)}function E(){return E=(0,o.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.ZP)("orders",{method:"get",params:t}));case 1:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return w=(0,o.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.ZP)("orders/".concat(t.id),{method:"put",data:{is_send:t.is_send,order_pay:t.order_pay,order_price:t.order_price,pay_status:t.pay_status}}));case 1:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function x(e){return S.apply(this,arguments)}function S(){return S=(0,o.Z)(p().mark((function e(t){return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,h.ZP)("kuaidi/".concat(t.id),{method:"get"}));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}r(26780);var C=r(46567),I=r(13378),z=(r(90140),r(32620)),O=(r(67604),r(66498)),P={labelCol:{span:4},wrapperCol:{span:20}},V=[{label:"\u5df2\u7ecf\u53d1\u8d27",value:"\u662f"},{label:"\u672a\u53d1\u8d27",value:"\u5426"}],D=[{label:"\u672a\u652f\u4ed8",value:"0"},{label:"\u652f\u4ed8\u5b9d",value:"1"},{label:"\u5fae\u4fe1",value:"2"},{label:"\u94f6\u884c\u5361",value:"3"}],q=[{label:"\u672a\u4ed8\u6b3e",value:"0"},{label:"\u5df2\u4ed8\u6b3e",value:"1"}],F=function(e){var t=O.Z.useForm(),r=(0,l.Z)(t,1),n=r[0],a=e.modalVisible,u=e.onCancel,i=e.OrdeData,o=e.amendStatus,s=(0,d.useState)(),p=(0,l.Z)(s,2),m=p[0],f=p[1],v=(0,d.useState)(),y=(0,l.Z)(v,2),Z=y[0],_=y[1],b=(0,d.useState)(),h=(0,l.Z)(b,2),g=h[0],E=h[1],k=function(e){f(e.target.value);var t=i;t.is_send=e.target.value},w=function(e){_(e.target.value);var t=i;t.order_pay=e.target.value},x=function(e){E(e.target.value);var t=i;t.pay_status=e.target.value};(0,d.useEffect)((function(){i.order_id&&(f(i.is_send),_(i.order_pay),E(i.pay_status),n.setFieldsValue({order_price:i.order_price}))}));var S=function(){n.validateFields().then((function(e){var t={order_price:e.order_price,id:i.order_id,is_send:"\u662f"===m?"1":"0",order_pay:Z,pay_status:g};o(t)}))};return d.createElement(C.Z,{destroyOnClose:!0,title:"\u4fee\u6539\u8ba2\u5355\u72b6\u6001",visible:a,onCancel:function(){return u()},onOk:function(){return S()}},d.createElement(O.Z,(0,I.Z)({},P,{name:"basic",form:n,initialValues:{remember:!0}}),d.createElement(O.Z.Item,{label:"\u4ef7\u683c",name:"order_price",rules:[{required:!0,message:"\u4ef7\u683c\u4e0d\u80fd\u4e3a\u7a7a"}]},d.createElement(c.Z,null)),d.createElement(O.Z.Item,{label:"\u662f\u5426\u53d1\u8d27\uff1a"},d.createElement(z.ZP.Group,{options:V,onChange:k,value:m})),d.createElement(O.Z.Item,{label:" \u652f\u4ed8\u65b9\u5f0f\uff1a"},d.createElement(z.ZP.Group,{options:D,onChange:w,value:Z,optionType:"button"})),d.createElement(O.Z.Item,{label:"\u8ba2\u5355\u72b6\u6001\uff1a"},d.createElement(z.ZP.Group,{options:q,onChange:x,value:g,optionType:"button",buttonStyle:"solid"}))))},G=F,T=(r(89198),r(41205)),W=function(e){var t=e.modalVisible,r=e.onCancel,n=e.logisticsInformationList;return d.createElement(C.Z,{destroyOnClose:!0,title:"\u7269\u7406\u4fe1\u606f",visible:t,onCancel:function(){return r()},footer:null},d.createElement(T.Z,{reverse:!0},n&&n.map((function(e){return d.createElement(T.Z.Item,{key:e.context},e.context,d.createElement("div",null,e.time))}))))},J=W,L=r(68294),R=r.n(L),K=c.Z.Search,N=function(){var e=(0,d.useState)(""),t=(0,l.Z)(e,2),r=t[0],c=t[1],s=(0,d.useState)(!1),_=(0,l.Z)(s,2),h=_[0],E=_[1],w=(0,d.useState)(!1),S=(0,l.Z)(w,2),C=S[0],I=S[1],z=(0,d.useState)({}),O=(0,l.Z)(z,2),P=O[0],V=O[1],D=(0,d.useState)([]),q=(0,l.Z)(D,2),F=q[0],T=q[1],W=(0,d.useRef)(),L=function(e){c(e),W.current.reload()},N=function(){E(!1),I(!1)},Q=function(e){var t=b().cloneDeep(e);V(t),E(!0)},j=function(){var e=(0,o.Z)(p().mark((function e(t){var r,n;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:if(r=e.sent,n=r.meta,201===n.status){e.next=6;break}return e.abrupt("return",i.default.error(n.msg));case 6:return i.default.success("\u4fee\u6539\u6210\u529f"),W.current.reload(),e.abrupt("return",E(!1));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,o.Z)(p().mark((function e(){var t,r,n;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return I(!0),e.next=3,x({id:1106975712662});case 3:t=e.sent,r=t.meta,n=t.data,200===r.status&&T(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=d.createElement(u.Z,null,d.createElement(K,{placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9",onSearch:function(e){return L(e)},size:"large",allowClear:!0})),H=[{title:"",dataIndex:"index",key:"index",width:50},{title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"order_number",key:"order_number"},{title:"\u8ba2\u5355\u4ef7\u683c",dataIndex:"order_price",key:"order_price"},{title:"\u8ba2\u5355\u652f\u4ed8",dataIndex:"order_pay",key:"order_pay",render:function(e){var t;return"0"===e?t=d.createElement(a.Z,{color:"red"},"\u672a\u652f\u4ed8"):"1"===e?t=d.createElement(a.Z,{color:"orange"},"\u652f\u4ed8\u5b9d"):"2"===e?t=d.createElement(a.Z,{color:"green"},"\u5fae\u4fe1"):"3"===e&&(t=d.createElement(a.Z,{color:"blue"},"\u94f6\u884c\u5361")),t}},{title:"\u652f\u4ed8\u72b6\u6001",dataIndex:"pay_status",key:"pay_status",render:function(e){var t;return"0"===e?t="\u672a\u4ed8\u6b3e":"1"===e&&(t="\u5df2\u4ed8\u6b3e"),t}},{title:"\u662f\u5426\u53d1\u8d27",dataIndex:"is_send",key:"is_send"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"create_time",key:"create_time",render:function(e){return(0,Z.D3)(e)}},{title:"\u64cd\u4f5c",width:140,render:function(e){return d.createElement("div",{className:R().buttonWrap},d.createElement(n.Z,{type:"primary",onClick:function(){return Q(e)}},d.createElement(v.Z,{style:{fontSize:"13px"}})),d.createElement(n.Z,{type:"primary",onClick:A},d.createElement(y.Z,{style:{fontSize:"13px"}})))}}];return d.createElement(m.Oc,null,d.createElement(f.ZP,{rowKey:"key",actionRef:W,columns:H,bordered:!0,search:!1,options:{setting:!1},headerTitle:B,pagination:{defaultPageSize:10,pageSizeOptions:["5","10","15","20"],showQuickJumper:!0},request:function(){var e=(0,o.Z)(p().mark((function e(t){var n,a,u,i,o;return p().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={query:r,pagenum:t.current,pagesize:t.pageSize},e.next=3,g(n);case 3:if(a=e.sent,u=a.data,i=a.meta,200===i.status){e.next=8;break}return e.abrupt("return");case 8:return u.goods.map((function(e,t){var r=e;return r.key=e.order_id,r.index=t+1,r})),o={data:u.goods,total:u.total,success:!0,pageSize:t.pageSize,current:t.current},e.abrupt("return",o);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),d.createElement(G,{modalVisible:h,onCancel:N,OrdeData:P,amendStatus:j}),d.createElement(J,{modalVisible:C,onCancel:N,logisticsInformationList:F}))},Q=N}}]);